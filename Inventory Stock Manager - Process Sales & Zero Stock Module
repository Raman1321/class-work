
def process_sale(inventory, sku, qty_sold):
   
    updated_inventory = []
    sku_found = False
    message = ""

    for current_sku, current_qty in inventory:
        if current_sku == sku:
            sku_found = True
            if current_qty >= qty_sold:
                new_qty = current_qty - qty_sold
                updated_inventory.append((current_sku, new_qty))
                message = f"Sale processed: {qty_sold} units of SKU {sku}."
            else:
                updated_inventory.append((current_sku, current_qty))
                message = f"Insufficient stock for SKU {sku}. Available: {current_qty}"
        else:
            updated_inventory.append((current_sku, current_qty))

    if not sku_found:
        message = f"SKU {sku} not found in inventory."

    # Print in the same style as expected output table
    print("Inventory:", updated_inventory, ", message:", repr(message))
    return updated_inventory, message


def identify_zero_stock(inventory):
  
    zero_stock_list = [sku for sku, qty in inventory if qty == 0]
    if zero_stock_list:
        print("Zero stock SKUs:", zero_stock_list)
    else:
        print("Zero stock SKUs: [], message: \"No zero stock items found.\"")
    return zero_stock_list


if __name__ == "__main__":
    # TC1 – Normal Sale
    inventory = [(101, 50)]
    inventory, _ = process_sale(inventory, 101, 30)  # Expect inventory [(101, 20)]

    # TC2 – Insufficient Stock
    inventory = [(102, 20)]
    inventory, _ = process_sale(inventory, 102, 25)  # Expect inventory remains [(102, 20)]

    # TC3 – SKU Not Found
    inventory = [(101, 50)]
    inventory, _ = process_sale(inventory, 104, 10)  # Expect inventory remains [(101, 50)]

    # TC4 – Zero Stock Detection
    inventory = [(101, 0), (102, 5), (103, 0)]
    identify_zero_stock(inventory)  # Expect [101, 103]

    # TC5 – No Zero Stock
    inventory = [(101, 10), (102, 5)]
    identify_zero_stock(inventory)  # Expect [] with message "No zero stock items found."

    # TC6 – Sale Reducing to Zero
    inventory = [(101, 10)]
    inventory, _ = process_sale(inventory, 101, 10)  # Expect [(101, 0)]







































# def process_sale(inventory, sku, qty_sold):
#     updated_inventory = []
#     sku_found = False

#     for item in inventory:
#         current_sku, current_qty = item
#         if current_sku == sku:
#             sku_found = True
#             if current_qty >= qty_sold:
#                 updated_inventory.append((current_sku, current_qty - qty_sold))
#                 print(f"Sale processed: {qty_sold} units of SKU {sku}.")
#             else:
#                 updated_inventory.append((current_sku, current_qty))
#                 print(f"Insufficient stock for SKU {sku}. Available: {current_qty}")
#         else:
#             updated_inventory.append(item)

#     if not sku_found:
#         print(f"SKU {sku} not found in inventory.")

#     return updated_inventory


# def identify_zero_stock(inventory):
#     zero_stock_list = [sku for sku, qty in inventory if qty == 0]
#     if zero_stock_list:
#         print(f"Zero stock SKUs: {zero_stock_list}")
#     else:
#         print("No zero stock items found.")
#     return zero_stock_list


# if __name__ == "__main__":
#     inventory = [(101, 50), (102, 20), (103, 0)]

#     inventory = process_sale(inventory, 101, 30)
#     inventory = process_sale(inventory, 102, 25)
#     inventory = process_sale(inventory, 104, 10)

#     zero_stock_items = identify_zero_stock(inventory)

#     print("Updated Inventory:", inventory)
